<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Sous le sens</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- tree CSS -->
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css"/>

    <!-- main CSS -->
    <link rel="stylesheet" type="text/css" href="css/main.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
            integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
            crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
            integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
            crossorigin="anonymous"></script>


    <script type="text/javascript" src="../jsCommon/jquery/jquery.min.js"></script>


    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>


    <!---------- scripts others ----------->
    <script type="text/javascript" src="../jsCommon/others/async.js"></script>
    <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>-->
    <script type="text/javascript" src="js/others/d3.js"></script>
    <script type="text/javascript" src="js/others/hex-to-rgba.js"></script>

    <!---------- end scripts others ----------->


    <!---------- datatables ----------->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-html5-1.5.6/b-print-1.5.6/fc-3.2.5/fh-3.1.4/r-2.2.2/rr-1.2.4/datatables.min.css"/>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-html5-1.5.6/b-print-1.5.6/fc-3.2.5/fh-3.1.4/r-2.2.2/rr-1.2.4/datatables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-colvis-1.5.6/b-html5-1.5.6/fc-3.2.5/fh-3.1.4/datatables.min.js"></script>
    <!---------- end datatables ----------->

    <!---------- scripts souslesens ----------->
    <!-- neo4j client proxy (see also /routes/index.js for protocols)  -->
    <script type="text/javascript" src="../jsCommon/cypher.js"></script>
    <!--  access to description and logic of neo4j database  -->
    <script type="text/javascript" src="../jsCommon/schema.js"></script>
    <!--  access to description and logic of neo4j database  -->
    <script type="text/javascript" src="../jsCommon/neo4jDataModel.js"></script>
    <script type="text/javascript" src="../jsCommon/common.js"></script><!--  util methods generic -->
    <script type="text/javascript" src="js/core/buildPaths.js"></script><!--  builds an execute requests -->
    <script type="text/javascript" src="js/core/cache.js"></script>
    <!-- binds control to methods of different objects  -->
    <script type="text/javascript" src="js/ui/binder.js"></script>

    <script type="text/javascript" src="js/ui/config.js"></script><!--  app global params  -->
    <script type="text/javascript" src="js/ui/mainController.js"></script> <!--  global  controller  -->
    <script type="text/javascript" src="js/ui/graphController.js"></script>
    <script type="text/javascript" src="js/ui/nodeInfosController.js"></script>


    <!--   controllers for  operations on graph -->

    <script type="text/javascript" src="js/ui/graphFilter.js"></script>
    <script type="text/javascript" src="js/ui/graphHighlight.js"></script>
    <script type="text/javascript" src="js/ui/graphExpand.js"></script>
    <script type="text/javascript" src="js/ui/graphDisplay.js"></script>
    <script type="text/javascript" src="js/ui/tree.js"></script>
    <!--   <script type="text/javascript" src="js/ui/treeClass.js"></script>-->
    <script type="text/javascript" src="js/ui/layouts.js"></script>
    <script type="text/javascript" src="js/ui/exportData.js"></script>


    <script type="text/javascript" src="js/ui/context.js"></script><!--  object containing contextual objects  -->
    <script type="text/javascript" src="js/ui/UI_graph.js"></script>
    <script type="text/javascript" src="js/ui/UI_parameters.js"></script>
    <script type="text/javascript" src="js/ui/UI_query.js"></script>
    <!---------- end scripts souslesens ----------->

    <!---------- scripts visjs ----------->
    <script src="js/others/visjs/visjs.js"></script>
    <script src="js/core/visJsGraph.js"></script>
    <script src="js/core/visjsDataProcessor.js"></script>
    <link rel="stylesheet" type="text/css" href="js/others/visjs/vis-network.min.css.js"/>
    <!---------- fin scripts visjs ----------->

    <!-- tree JS -->
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>

    <script>
        //when page loaded
        $(function () {

            MainController.init();


        });

    </script>


</head>

<body>

<div class="wrapper">

    <!-- Sidebar  -->
    <nav id="sidebar">

        <div class="sidebar-header">
            <span class="graphIcon"></span>
            <h3>Sous le Sens</h3>
        </div>
        <!-- Divider -->
        <hr class="sidebar-divider"/>

        <ul class="list-unstyled components">
            <li class="active">
                <a href="#searchSubMenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Search</a>
                <ul class="collapse list-unstyled" id="searchSubMenu"  >
                    <li>
                        <div class="modal-body">
                            <label for="tree_searchNodeValue">Search by name :</label>
                            <div class="input-group">
                                <input type="text" id="tree_searchNodeValue" class="form-control border-0 small" style="background-color: #d4d3d6;" placeholder="Search for..." aria-label="Search"
                                       aria-describedby="basic-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-primary" type="button"
                                            onclick="Tree.searchNodes($('#tree_searchNodeValue').val(),'search_treeContainerDiv')">
                                        <i class="fas fa-search fa-sm"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="row" id="search_treeContainerDiv" style="font-size: 12px; width: 270px; height:400px; overflow:auto;margin-left: 0px;margin-right: 5px;background-color:white"></div>

                        </div>
                    </li>
                </ul>
            </li>
        </ul>
        <hr class="sidebar-divider"/>
        <ul class="list-unstyled components">
            <li>
                <a href="#hierarchySubMenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Custom TreeViews</a>
                <ul class="collapse list-unstyled" id="hierarchySubMenu">
                    <li>
                        <div class="modal-body">
                            <label for="tree_searchNodeValue">Select a Tree class :</label>
                            <div class="input-group">
                                <select class="form-control " id="tree_labelSelect" onchange="Tree.drawNodeHierarchyTree($(this).val(),'hierarchy_treeContainerDiv')"></select>
                            </div>

                            <div class="row" id="hierarchy_treeContainerDiv" style="font-size: 14px; width: 270px; height:500px; overflow:auto;margin-left: 5px;margin-right: 5px;"></div>
                        </div>
                    </li>
                </ul>
        </ul>

        <!-- Divider -->
        <hr class="sidebar-divider"/>
    </nav>

    <!-- Page Content  -->
    <div id="content">

        <!-- main menu navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <a class="navbar-brand" href="#">Sous le sens Menu</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Import Data...</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Login/Logout</a>
                    </li>
                </ul>
                <form class="form-inline my-2 my-lg-0" style="padding-right:10px;">
                    <label for="mainMenu_subGraphSelect" class=" mr-sm-2 col-form-label" style="color:white">Select sub graph :</label>
                    <select class="form-control my-2 my-sm-0" id="mainMenu_subGraphSelect" onchange="MainController.initSubGraph($(this).val())">
                    </select>
                </form>
            </div>
            <a class="navbar-brand" onmouseover="$(this).tooltip('show');" href="#" data-toggle="modal"  data-placement="bottom" data-target="#adminModalMenu" title="Display Schema Database">
                <img src="img/Schema.png" width="35" height="35" alt="Tag" style="border-radius:30px">
            </a>
            <a class="navbar-brand" href="#" data-toggle="modal" data-target="#adminModalMenu">
                <img src="img/parameters.png" width="40" height="40" alt="Tag" style="border-radius:30px">
            </a>
        </nav>


        <!-- icon menu navbar -->
        <nav class="navbar navbar-expand-lg navbar-light" style="padding-left:5px;">

            <ul class="navbar-nav mr-auto">
                <a class="navbar-brand" href="#" style="border-left: 2px solid blue;padding-left:5px;"> Requests :</a>

                <li class="nav-item">
                    <a  id="query_newQueryButton" data-toggle="collapse" href="#dbFilterCollapseMenu" onmouseover="$(this).tooltip('show');" class="navbar-brand"  href="#"  data-toggle="tooltip" data-placement="bottom" title="New Request">
                        <img src="img/new.png" width="40" height="40" alt="Filter">
                    </a>
                </li>

                <li class="nav-item">
                    <a  id="showTreeButton" onmouseover="$(this).tooltip('show');" class="navbar-brand"  href="#"  data-toggle="tooltip" data-placement="bottom" title="Search Menu">
                        <img src="img/advancedSearch.png" width="40" height="40" alt="Filter">
                    </a>
                </li>
                <li class="nav-item">
                    <a id="filterNodeMenu" onmouseover="$(this).tooltip('show');" class="navbar-brand" data-toggle="collapse" href="#dbFilterCollapseMenu" aria-expanded="false" data-target="#dbFilterCollapseMenu" data-placement="bottom" title="Database Query Menu">
                        <img src="img/cube.png" width="40" height="40" alt="Filter">
                    </a>
                </li>
                <li class="nav-item">
                    <a  onmouseover="$(this).tooltip('show');" class="navbar-brand"  href="#"  data-toggle="tooltip" data-placement="bottom" title="Save Request">
                        <img src="img/save.png" width="40" height="40" alt="Filter">
                    </a>
                </li>
                <li class="nav-item">
                    <div class="spinner-border text-primary d-none" id="waitSpinnerDiv" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </li>
            </ul>

            <ul id="navbar_graph_Graph_ul" class="navbar-nav mr-auto d-none"  >
                <a class="navbar-brand" style="border-left: 2px solid red;padding-left:5px;" href="#">Graph :</a>

                <li class="nav-item">
                    <a class="navbar-brand" href="#" data-toggle="modal" data-target="#GraphExpandModalMenu" data-placement="bottom"  title="Expand Node Menu" onclick="GraphExpand.initSourceLabel(visjsGraph.legendLabels)" onmouseover="$(this).tooltip('show');">
                        <img src="img/expandLabel.png" width="40" height="40" alt="">
                    </a>
                </li>
                <li class="nav-item">
                    <a class="navbar-brand" href="#" data-toggle="modal" data-target="#GraphHighlightModalMenu" data-placement="bottom" title="HighLlight Node Menu"  onclick="GraphHighlight.initDialog()" onmouseover="$(this).tooltip('show');">
                        <img src="img/brush.jpg" width="40" height="40" alt="Tag">
                    </a>
                </li>
                <li class="nav-item">
                    <a class="navbar-brand" href="#" data-toggle="modal" data-target="#GraphFilterModalMenu" data-placement="bottom" title="HighLlight Node Menu"  onclick="GraphFilter.initDialog()" onmouseover="$(this).tooltip('show');">
                        <img src="img/filter.png" width="40" height="40" alt="Tag">
                    </a>
                </li>
                <!--   <li class="nav-item">
                       <a class="navbar-brand" data-toggle="modal" data-target="#GraphFilterModalMenu" href="#" title="Filter Graph Menu" onclick="GraphFilter.initDialog()"></a>
                           <img src="img/filter.png" width="40" height="40" alt="Tag">
                       </a>
                   </li>-->
                <li class="nav-item">
                    <a class="navbar-brand d-none" href="#" id="graphCache_previousGraphButton" onclick="Cache.restorePreviousGraph()">
                        <img src="img/previous.jpg" width="40" height="40" alt="Tag">
                    </a>
                </li>
                <li class="nav-item">
                    <a class="navbar-brand d-none" id="graphCache_nextGraphButton" href="#" onclick="Cache.restoreNextGraph()">
                        <img src="img/next.jpg" width="40" height="40" alt="Tag">
                    </a>
                </li>
            </ul>

            <ul id="#navbar_params" class="navbar-nav ml-auto" >
                <a class="navbar-brand" href="#" style="border-left: 2px solid green;padding-left:5px;">Options :</a>

                <li class="nav-item">
                    <a class="navbar-brand" href="#">
                        <img src="img/fit.png" width="40" height="40" alt="">
                    </a>
                </li>
                <li>
                    <a class="navbar-brand" href="#" data-toggle="modal" data-target="#displayModalContent">
                        <img src="img/display.png" width="40" height="40" alt="">
                    </a>
                </li>
                <li>
                    <a class="navbar-brand" href="#navbarSupportedContent" data-toggle="collapse"
                       data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                       aria-expanded="false"
                       aria-label="Toggle navigation">
                        <img src="img/fullScreen.png" width="40" height="40" alt="">
                    </a>
                </li>



            </ul>
        </nav>

        <!-- Query Label Modal -->
        <div class="modal fade" id="dbQueryFilterLabelModal" tabindex="-1" role="dialog"
             aria-labelledby="dbQueryFilterLabelModal" aria-hidden="true">
        </div>
        <!-- End of Display Setting Modal -->


        <!--Graph Expand Modal Menu -->
        <div class="modal fade bd-example-modal-lg" id="GraphExpandModalMenu" tabindex="-1" role="dialog"
             aria-labelledby="displayModalLabel" aria-hidden="true">
        </div>

        <!--Graph Highlight Modal Menu -->
        <div class="modal fade bd-example-modal-lg" id="GraphHighlightModalMenu" tabindex="-1" role="dialog"
             aria-labelledby="displayModalLabel" aria-hidden="true">
        </div>

        <!-- Graph Filter Collaspse menu -->
        <div class="modal fade bd-example-modal-lg" id="GraphFilterModalMenu" tabindex="-1" role="dialog"
             aria-labelledby="displayModalLabel" aria-hidden="true">
        </div>

        <!-- datatable  menu -->
        <div class="modal fade bd-example-modal-sm" id="ExportDataModalMenu" tabindex="-1" role="dialog"
             aria-labelledby="displayModalLabel" aria-hidden="true">
        </div>

        <div class="modal fade bd-example-modal-lg" id="ExportDataTableModalMenu" tabindex="-1" role="dialog"
             aria-labelledby="displayModalLabel" aria-hidden="true">

            <div id="exportData_datatableDiv">aaaaaaaaa</div>
        </div>


        <!-- Graph Filter Collaspse menu -->
        <div class="modal fade bd-example-modal-lg" id="adminModalMenu" tabindex="-1" role="dialog"
             aria-labelledby="displayModalLabel" aria-hidden="true">
        </div>


        <!-- DB Filter Collaspse menu -->
        <div class="collapse navbar-collapse" id="dbFilterCollapseMenu">
            <!--loaded by binder.bindOnPageload()-->
        </div>


        <!-- Display Setting Modal -->
        <div class="modal fade" id="displayModalContent" tabindex="-1" role="dialog" aria-labelledby="displayModalLabel"
             aria-hidden="true">

        </div>
        <!-- End of Display Setting Modal -->


        <!-- end of Wrapper  -->


        <div class="container-fluid">



            <!-- Content Row -->
            <div class="row"   >
                <div id="graphDiv" class="col-12" >
                </div>
            </div>


            <div id="graph_legendDiv"></div>
            <div id="graph_infosDiv" style="font-size: 8px"></div>
            <div id="graphCommentDiv" style="position: absolute;background-color: white;margin: 2px;padding: 2px"></div>
            <div id="GraphHighlight_legendDiv"
                 style="visibility:hidden;z-index:20;border: 1px;border-style: solid;padding: 5px;background-color: #fafafa;max-height: 400px;max-width: 250px;overflow: auto"></div>
        </div>


    </div>

    <!-- end of Page Content -->
</div>

<div id="GraphNodePopoverDiv" class="d-none" style="position:relative "></div>
<div id="GraphRelationPopoverDiv" class="d-none" style="position:relative "></div>


<div class="modal fade bd-example-modal-sm" id="GraphNodeInfoWrapperDiv" tabindex="-1" role="dialog"
     aria-labelledby="displayModalLabel" aria-hidden="true">
</div>
<div id="nodeInfosPopoverWrapperDiv" class="d-none" style="position:relative">

</div>



<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="genericMessageModal">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div id="genericMessageDiv"  style="min-height: 200px"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="genericMessageModalOkButton" >OK</button>
                <button type="button" class="btn btn-secondary" onclick="$('#genericMessageModal').modal('hide')">X</button>
            </div>
        </div>
    </div>
</div>

<div class="alert" role="alert" id="result"></div>


</body>
</html>